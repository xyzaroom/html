<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>XYZAROOM — Homepage</title>
<link rel="icon" href="assets/logo.png" />
<style>
  * {margin:0;padding:0;box-sizing:border-box}
  html,body {height:100%}
  body {
    background:#000;color:#fff;font-family:monospace;
    -webkit-font-smoothing:antialiased;min-height:100vh;
    display:flex;flex-direction:column;overflow-x:hidden; position: relative;
  }

  /* Background animasi kode (hanya saat loading pertama) */
  #jsBackgroundContainer {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    pointer-events: none;
    overflow: hidden;
    display: block; /* akan disembunyikan setelah loading selesai jika sudah pernah */
  }
  #jsCodeBackground {
    width: 100%;
    height: 100%;
    display: block;
  }

  /* Overlay loading */
  .overlay {
    position:fixed; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center;
    background:linear-gradient(180deg,#000,#00110b); z-index:9999; transition:opacity .5s ease,visibility .5s;
    opacity:1; visibility:visible;
  }
  .overlay.hidden { opacity:0; visibility:hidden; pointer-events:none }
  .typewriter { font-size:28px; letter-spacing:4px; font-weight:800; color:#00ff88; margin-bottom:18px; min-height:1.2em }
  .cd {
    width:86px; height:86px; border-radius:50%; border:6px solid rgba(255,255,255,.06);
    background:conic-gradient(#00ff8822,#00ff8822); display:flex; align-items:center; justify-content:center;
    box-shadow:0 6px 30px rgba(0,255,136,.06), inset 0 0 12px rgba(255,255,255,.02);
    animation:spin 1.8s linear infinite;
  }
  .cd::after {
    content:""; width:18px; height:18px; background:#000; border-radius:50%; border:3px solid #00ff88;
    box-shadow:0 0 10px #00ff88; display:block;
  }
  @keyframes spin { to { transform:rotate(360deg) } }

  /* HEADER, MAIN, FOOTER tetap sama... (kode CSS tidak diubah) */

  /* ... (kode CSS lain tetap sama seperti sebelumnya) ... */

</style>
</head>
<body>
<!-- Canvas background untuk animasi kode -->
<div id="jsBackgroundContainer" aria-hidden="true">
  <canvas id="jsCodeBackground"></canvas>
</div>

<!-- Overlay loading -->
<div class="overlay" id="overlay" role="status" aria-live="polite">
  <div class="typewriter" id="typeText"></div>
  <div class="cd" aria-hidden="true"></div>
</div>

<!-- HEADER -->
<header>
  <div class="logo">
    <img src="assets/logo.png" alt="XYZAROOM logo" onerror="this.style.filter='grayscale(80%)'" />
    <div style="display:flex;flex-direction:column">
      <div class="brand">XYZAROOM</div>
      <div style="font-size:12px;color:#9fbf9f">Records</div>
    </div>
  </div>
  <div style="display:flex;gap:12px;align-items:center">
    <div class="toggle" id="toggleBtn" aria-controls="sidebar" aria-expanded="false">☰</div>
  </div>
</header>

<!-- SIDEBAR -->
<aside class="sidebar" id="sidebar" aria-hidden="true">
  <nav>
    <a href="#">Homepage</a>
    <a href="/p/about.html">About</a>
    <a href="/p/artists.html">Artists</a>
    <a href="/p/albums.html">Albums</a>
    <a href="/p/event.html">Event</a>
    <a href="/p/contact.html">Contact</a>
  </nav>
</aside>

<!-- MAIN -->
<main id="mainContent" class="">
  <section class="hero" aria-labelledby="heroTitle">
    <h1 id="heroTitle"><span>XYZA</span>ROOM</h1>
    <p>Distribusi • Backup • Code • 1 Klik — Platform untuk artis & label independen.</p>
    <div class="controls">
      <button class="btn" onclick="openWA()">MULAI GRATIS</button>
      <a class="btn ghost" href="https://wa.me/message/63P7KUGSCCZDE1!" target="_blank" rel="noopener">REQUEST DEMO</a>
    </div>
  </section>

  <section style="margin-top:32px">
    <h2 style="margin-bottom:12px">Bahasa & Tools (contoh)</h2>
    <div class="grid">
      <div class="card">C++ <div style="margin-top:8px;color:#00ff88;font-weight:900">C++ MIDI</div></div>
      <div class="card">Go <div style="margin-top:8px;color:#00ff88;font-weight:900">GO BEAT</div></div>
      <div class="card">Java <div style="margin-top:8px;color:#00ff88;font-weight:900">JAVA COVER</div></div>
      <div class="card">JavaScript <div style="margin-top:8px;color:#00ff88;font-weight:900">JS UPLOAD</div></div>
    </div>
  </section>

  <section id="demo" style="margin-top:28px;display:none">
    <h3 id="title"></h3>
    <pre id="code"></pre>
    <pre id="out" style="color:#00ff88"></pre>
  </section>
</main>

<!-- FOOTER -->
<footer>
  <div class="footer-links">
    <a href="/FAQ/privacy-policy.html">Privacy Policy</a>
    <a href="/FAQ/terms-condition.html">Terms Conditions</a>
  </div>
  <p>© 2025 XYZAROOM RECORDS • All Rights Reserved.</p>
</footer>

<script>
  // Fungsi background animasi kode (hanya aktif saat loading pertama)
  const bgCanvas = document.getElementById('jsCodeBackground');
  const bgCtx = bgCanvas.getContext('2d');
  const backgroundContainer = document.getElementById('jsBackgroundContainer');
  const overlay = document.getElementById('overlay');

  let animationId;

  function resizeBgCanvas() {
    bgCanvas.width = window.innerWidth;
    bgCanvas.height = window.innerHeight;
  }
  window.addEventListener('resize', resizeBgCanvas);

  function startBackgroundAnimation() {
    resizeBgCanvas();
    const codeChars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ{}[]()=+-/*<>;:'.split('');
    const columns = Math.floor(window.innerWidth / 15);
    const drops = Array.from({ length: columns }, () => Math.random() * (window.innerHeight / 20));

    function draw() {
      bgCtx.fillStyle = 'rgba(0, 0, 0, 0.02)';
      bgCtx.fillRect(0, 0, window.innerWidth, window.innerHeight);

      bgCtx.font = '14px monospace';
      bgCtx.fillStyle = '#00ff88';

      for (let i=0; i<drops.length; i++) {
        const text = codeChars[Math.floor(Math.random() * codeChars.length)];
        bgCtx.fillText(text, i * 15, drops[i] * 20);
        if (drops[i] * 20 > window.innerHeight && Math.random() > 0.975) {
          drops[i] = 0;
        }
        drops[i]++;
      }

      animationId = requestAnimationFrame(draw);
    }
    draw();
  }

  function stopBackgroundAnimation() {
    cancelAnimationFrame(animationId);
    backgroundContainer.style.display='none';
  }

  // Cek apakah pengguna sudah pernah melihat loading
  const hasSeenLoading = localStorage.getItem('seenLoading');

  document.addEventListener('DOMContentLoaded', () => {
    if (!hasSeenLoading) {
      // Jika belum, tampilkan background animasi dan overlay loading
      startBackgroundAnimation();

      // Setelah 3 detik, hentikan animasi dan sembunyikan overlay
      setTimeout(() => {
        stopBackgroundAnimation();
        overlay.classList.add('hidden');
        // Tandai sudah pernah melihat loading
        localStorage.setItem('seenLoading', 'true');
      }, 3000);
    } else {
      // Jika sudah pernah, sembunyikan background dan overlay
      backgroundContainer.style.display='none';
      overlay.style.display='none';
    }

    // Toggle sidebar
    const toggleBtn = document.getElementById('toggleBtn');
    const sidebar = document.getElementById('sidebar');
    toggleBtn.addEventListener('click', () => {
      const open = sidebar.classList.toggle('open');
      sidebar.setAttribute('aria-hidden', !open);
      toggleBtn.setAttribute('aria-expanded', open);
    });

    document.querySelectorAll('.card').forEach(c => {
      c.addEventListener('click', () => {
        document.getElementById('demo').style.display='block';
        document.getElementById('title').innerText = c.innerText.trim();
        document.getElementById('code').innerText = '// contoh snippet for ' + c.innerText;
        document.getElementById('out').innerText = '✔ Demo ready';
        window.scrollTo({top:document.getElementById('demo').offsetTop-20,behavior:'smooth'});
      });
    });
  });
</script>
</body>
      </html>
